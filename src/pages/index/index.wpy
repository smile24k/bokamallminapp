<style lang="less">
@import './src/less/common.less';
@import './src/less/index.less';
.placeholder{
  color: #afafbf;
  font-size: 12px;
}
</style>
<template>
  <view class="index">
    <view class="search-wrap">
      <image class="serah-img" src="../../images/Search.png"></image>
      <input class="search" placeholder-class="placholder" placeholder="{{placeholder}}"/>
    </view>
    <Banner :moives.sync="moives"></Banner>
  </view>
</template>

<script>
import wepy from 'wepy';
import constant from '@/common/constant';
import { connect } from 'wepy-redux';
import { getGoods } from '../../store/actions';
import banner from '@/components/banner';
import item from '@/components/item';

@connect(
  {},
  {}
)
export default class Index extends wepy.page {
  async onLoad() {
    
    wx.cloud.init({
      traceUser: true
    });
    wx.cloud.callFunction({
      name: 'moive',
      success: res => {
        console.log('[云函数] [douban] data: ', res.result);
        this.moives = res.result.subjects;
        this.$apply();
      },
      fail: err => {
        console.error('[云函数] [douban] 调用失败', err);
      }
    });
    /* wx.cloud.callFunction({
      name: 'top250',
      success: res => {
        console.log('[云函数] [douban] data: ', res);
      },
      fail: err => {
        console.error('[云函数] [douban] 调用失败', err);
      }
    });
    wx.cloud.callFunction({
      name: 'moiveDetail',
      data: {
        id: '4864908'
      },
      success: res => {
        console.log('[云函数] [douban] data: ', res);
      },
      fail: err => {
        console.error('[云函数] [douban] 调用失败', err);
      }
    }); */
  }
  components = {
    Banner:banner
  };

  data = {
    moives:[],
    placeholder:'请输入片名、主演或导演'
  };
  methods = {
  };
  onReachBottom() {}
}
</script>
